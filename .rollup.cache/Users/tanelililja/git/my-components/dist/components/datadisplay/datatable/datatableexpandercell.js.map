{"version":3,"file":"datatableexpandercell.js","sourceRoot":"","sources":["../../../../src/components/datadisplay/datatable/datatableexpandercell.tsx"],"names":[],"mappings":";;AACA,OAAO,EAAC,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAC,MAAM,sBAAsB,CAAC;AAC/D,OAAO,EAAC,SAAS,EAAC,MAAM,0BAA0B,CAAC;AAEnD,OAAO,EAAC,UAAU,EAAC,MAAM,8BAA8B,CAAC;AACxD,OAAO,EAAC,kBAAkB,EAAC,MAAM,mDAAmD,CAAC;AACrF,OAAO,EAAC,OAAO,EAAE,cAAc,EAAC,MAAM,yBAAyB,CAAC;AAChE,OAAO,EAAC,IAAI,EAAC,MAAM,6BAA6B,CAAC;AAUjD,IAAM,eAAe,GAAG,IAAI,CAAC;AAE7B,MAAM,UAAU,qBAAqB,CAAgB,EAOT;;QANxC,MAAM,YAAA,EACN,GAAG,SAAA,EACH,GAAG,SAAA,EACH,MAAM,YAAA,EACN,KAAK,WAAA,EACL,sBAAqB,EAArB,cAAc,mBAAG,IAAI,KAAA;IAErB,IAAM,SAAS,GAAG,GAAG,CAAC,YAAY,EAAE,CAAC;IACrC,IAAM,KAAK,GAAG,cAAc,CAAC,CAAC,CAAC,EAAC,WAAW,EAAE,UAAG,GAAG,CAAC,KAAK,GAAG,eAAe,QAAK,EAAC,CAAC,CAAC,CAAC,SAAS,CAAC;IAC9F,IAAM,UAAU,GAAG,GAAG,CAAC,aAAa,EAAE,CAAC;IACvC,IAAM,SAAS,GAAG,MAAA,MAAA,KAAK,CAAC,OAAO,CAAC,IAAI,0CAAE,YAAY,mDAAG,GAAG,CAAC,CAAC;IAC1D,IAAM,eAAe,GAAG,kBAAkB,EAAE,CAAC;IAE7C,OAAO,CACH,wBAAK,SAAS,EAAC,4BAA4B,EAAC,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,KAAK,iBAC7D,MAAM,EACP,KAAC,SAAS,aAAC,OAAO,EAAE,CAAC,SAAS,IAAI,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,wBAAwB,EAAE,CAAC,CAAC,CAAC,SAAS,gBACpF,wCACmB,UAAU,gBACb,eAAe,CAAC,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,EAC/D,SAAS,EAAE,UAAU,CAAC,sBAAsB,EAAE;wBAC1C,8BAA8B,EAAE,CAAC,SAAS;wBAC1C,+BAA+B,EAAE,SAAS;qBAC7C,CAAC,EACF,IAAI,EAAC,QAAQ,EACb,QAAQ,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,gBAC3B,SAAS,CAAC,CAAC;wBACR,KAAC,OAAO,IAAC,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE,OAAO,EAAE,cAAc,CAAC,OAAO,GAAI;wBAC/D,CAAC,CAAG,KAAC,IAAI,IAAC,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,EAAE,QAAQ,CAAC,EAAE,GAAI,IAC/F,IACE,EACX,MAAM,KACL,CACT,CAAC;AACN,CAAC","sourcesContent":["import {CellContext} from '@tanstack/table-core';\nimport {Icon, iconNames, IconSize} from '../../media/index.js';\nimport {Pressable} from '@react-aria/interactions';\nimport {ReactNode, RefAttributes} from 'react';\nimport {classNames} from '../../../utils/classnames.js';\nimport {useTranslateCommon} from '../../../hooks/translations/usetranslatecommon.js';\nimport {Spinner, SpinnerVariant} from '../../feedback/index.js';\nimport {Size} from '../../../constants/index.js';\n\nexport interface DataTableExpanderCellProps<TData, TValue>\n    extends CellContext<TData, TValue>,\n        RefAttributes<HTMLDivElement> {\n    prefix?: ReactNode;\n    suffix?: ReactNode;\n    useIndentation?: boolean;\n}\n\nconst INDENT_SIZE_REM = 0.75;\n\nexport function DataTableExpanderCell<TData, TValue>({\n    prefix,\n    ref,\n    row,\n    suffix,\n    table,\n    useIndentation = true\n}: DataTableExpanderCellProps<TData, TValue>) {\n    const canExpand = row.getCanExpand();\n    const style = useIndentation ? {paddingLeft: `${row.depth * INDENT_SIZE_REM}rem`} : undefined;\n    const isExpanded = row.getIsExpanded();\n    const isLoading = table.options.meta?.isRowLoading?.(row);\n    const translateCommon = useTranslateCommon();\n\n    return (\n        <div className=\"data-table__indent-wrapper\" ref={ref} style={style}>\n            {prefix}\n            <Pressable onPress={!isLoading && canExpand ? row.getToggleExpandedHandler() : undefined}>\n                <div\n                    aria-expanded={isExpanded}\n                    aria-label={translateCommon(isExpanded ? 'collapse' : 'expand')}\n                    className={classNames('data-table__expander', {\n                        'data-table__expander--hidden': !canExpand,\n                        'data-table__expander--loading': isLoading\n                    })}\n                    role=\"button\"\n                    tabIndex={canExpand ? 0 : -1}>\n                    {isLoading ?\n                        <Spinner size={Size.md} variant={SpinnerVariant.Neutral} />\n                    :   <Icon name={isExpanded ? iconNames.ExpandMore : iconNames.ChevronRight} size={IconSize.LG} />}\n                </div>\n            </Pressable>\n            {suffix}\n        </div>\n    );\n}\n"]}