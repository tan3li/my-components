{"version":3,"file":"datatablerowdragoverlay.js","sourceRoot":"","sources":["../../../../src/components/datadisplay/datatable/datatablerowdragoverlay.tsx"],"names":[],"mappings":";;AACA,OAAO,EAAC,UAAU,EAAe,MAAM,uBAAuB,CAAC;AAC/D,OAAO,EAAC,wBAAwB,EAAC,MAAM,+BAA+B,CAAC;AACvE,OAAO,EAAC,oBAAoB,EAAC,MAAM,2BAA2B,CAAC;AAE/D,OAAO,EAAC,UAAU,EAAC,MAAM,8BAA8B,CAAC;AAMxD,MAAM,UAAU,uBAAuB,CAAwB,EAA8C;;QAA7C,cAAc,oBAAA;IACnE,IAAA,MAAM,GAAI,cAAc,OAAlB,CAAmB;IAChC,IAAM,GAAG,GAAG,MAAA,MAAM,CAAC,IAAI,CAAC,OAAO,0CAAE,GAAiB,CAAC;IAEnD,IAAI,CAAC,GAAG,EAAE;QACN,OAAO,IAAI,CAAC;KACf;IAED,IAAM,KAAK,GAAG,GAAG,CAAC,eAAe,EAAE,CAAC;IACpC,IAAM,aAAa,GAAgB,EAAE,CAAC;IAEtC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;QAC9C,IAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QACtB,IAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC3B,IAAM,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QAClC,IAAM,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;QACnC,IAAM,YAAY,GAAG,MAAM,CAAC,EAAE,KAAK,wBAAwB,CAAC,UAAU,CAAC;QACvE,IAAM,UAAU,GAAG,MAAA,SAAS,CAAC,IAAI,0CAAE,UAAU,CAAC;QAC9C,IAAM,KAIF,MAAA,MAAA,MAAA,SAAS,CAAC,IAAI,0CAAE,YAAY,mDAAG,OAAO,CAAC,mCAAI,EAAE,EAHlC,aAAa,eAAA,EACjB,SAAS,WAAA,EACb,SAAS,cAHV,sBAIL,CAAgD,CAAC;QAElD,IAAI,YAAY,IAAI,UAAU,EAAE;YAC5B,IAAM,QAAQ,GAAG,CACb,sBACI,SAAS,EAAE,UAAU,CAAC,kBAAkB,EAAE,aAAa,CAAC,EAExD,KAAK,EAAE,SAAS,IACZ,SAAS,cACb,KAAC,oBAAoB,aAAC,SAAS,EAAE,MAAA,SAAS,CAAC,IAAI,0CAAE,SAAS,gBACrD,UAAU,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO,CAAC,IACjB,KALlB,IAAI,CAAC,EAAE,CAMX,CACR,CAAC;YAEF,IAAI,YAAY,EAAE;gBACd,aAAa,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;aACnC;iBAAM;gBACH,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAChC;SACJ;QAED,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;YAC5B,MAAM;SACT;KACJ;IAED,OAAO,CACH,yBAAO,SAAS,EAAC,8BAA8B,gBAC3C,0BACI,sBAAI,SAAS,EAAC,iBAAiB,gBAAE,aAAa,IAAM,GAChD,IACJ,CACX,CAAC;AACN,CAAC","sourcesContent":["import {DraggedRowData} from './types.js';\nimport {flexRender, Row, RowData} from '@tanstack/react-table';\nimport {DataTableDisplayColumnID} from './datatabledisplaycolumnid.js';\nimport {DataTableCellContent} from './datatablecellcontent.js';\nimport {ReactNode} from 'react';\nimport {classNames} from '../../../utils/classnames.js';\n\nexport interface DataTableRowDragOverlayProps {\n    draggedRowData: DraggedRowData;\n}\n\nexport function DataTableRowDragOverlay<TData extends RowData>({draggedRowData}: DataTableRowDragOverlayProps) {\n    const {active} = draggedRowData;\n    const row = active.data.current?.row as Row<TData>;\n\n    if (!row) {\n        return null;\n    }\n\n    const cells = row.getVisibleCells();\n    const cellsToRender: ReactNode[] = [];\n\n    for (let i = 0, len = cells.length; i < len; i++) {\n        const cell = cells[i];\n        const column = cell.column;\n        const context = cell.getContext();\n        const columnDef = column.columnDef;\n        const isDragHandle = column.id === DataTableDisplayColumnID.DragHandle;\n        const isRowTitle = columnDef.meta?.isRowTitle;\n        const {\n            className: cellClassName,\n            style: cellStyle,\n            ...cellProps\n        } = columnDef.meta?.getCellProps?.(context) ?? {};\n\n        if (isDragHandle || isRowTitle) {\n            const cellNode = (\n                <td\n                    className={classNames('data-table__cell', cellClassName)}\n                    key={cell.id}\n                    style={cellStyle}\n                    {...cellProps}>\n                    <DataTableCellContent alignment={columnDef.meta?.alignment}>\n                        {flexRender(columnDef.cell, context)}\n                    </DataTableCellContent>\n                </td>\n            );\n\n            if (isDragHandle) {\n                cellsToRender.unshift(cellNode);\n            } else {\n                cellsToRender.push(cellNode);\n            }\n        }\n\n        if (cellsToRender.length === 2) {\n            break;\n        }\n    }\n\n    return (\n        <table className=\"data-table__row-drag-overlay\">\n            <tbody>\n                <tr className=\"data-table__row\">{cellsToRender}</tr>\n            </tbody>\n        </table>\n    );\n}\n"]}