{"version":3,"file":"toast.js","sourceRoot":"","sources":["../../../../src/components/feedback/toast/toast.tsx"],"names":[],"mappings":"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","sourcesContent":["import {ReactNode, useId} from 'react';\nimport {Button, ButtonStyle} from '../../action/button/button.js';\nimport {ButtonVariant} from '../../action/constants/buttonvariant.js';\nimport {safeCall} from '../../../utils/functionhelper.js';\nimport {Icon, IconSize} from '../../media/icon/icon.js';\nimport {iconNames} from '../../media/icon/icons.js';\nimport {Spinner, SpinnerVariant} from '../spinner/spinner.js';\nimport {Size} from '../../../constants/size.js';\nimport {BodyText} from '../../text/bodytext/bodytext.js';\nimport {ToastProgressBar} from './toastprogressbar.js';\nimport {IconButton} from '../../action/iconbutton/iconbutton.js';\nimport {useTranslateCommon} from '../../../hooks/translations/usetranslatecommon.js';\nimport {Toast as RHTToastItem, useToasterStore} from 'react-hot-toast/headless';\nimport {classNames} from '../../../utils/classnames.js';\nimport {toastHandler} from './toasthandler.js';\n\nexport const enum ToastVariant {\n    Neutral = 'neutral',\n    Informative = 'informative',\n    Success = 'success',\n    Danger = 'danger',\n    Warning = 'warning',\n    Loading = 'loading'\n}\n\nexport interface ToastContentProps {\n    actionLabel?: string;\n    children: ReactNode;\n    onAction?: () => void;\n    shouldCloseOnAction?: boolean;\n    variant: ToastVariant;\n}\n\nexport interface ToastItem extends RHTToastItem {\n    content: ToastContentProps;\n}\n\nexport interface ToastProps {\n    shouldAnimate?: boolean;\n    toast: ToastItem;\n}\n\nfunction getPrefixIcon(variant: ToastVariant) {\n    switch (variant) {\n        case ToastVariant.Danger:\n            return iconNames.EmergencyHomeFilled;\n        case ToastVariant.Informative:\n            return iconNames.InfoFilled;\n        case ToastVariant.Success:\n            return iconNames.CheckCircleFilled;\n        case ToastVariant.Warning:\n            return iconNames.WarningFilled;\n        default:\n            return null;\n    }\n}\n\nexport function Toast({shouldAnimate = true, toast}: ToastProps) {\n    const {pausedAt} = useToasterStore();\n    const translateCommon = useTranslateCommon();\n    const textId = useId();\n    const {id, content, duration, visible, height} = toast;\n    const {actionLabel, children, onAction, shouldCloseOnAction, variant} = content;\n    let prefix: ReactNode,\n        animationCssClass = shouldAnimate ? 'toast--hidden' : undefined;\n\n    if (shouldAnimate && height) {\n        animationCssClass = visible ? 'toast--entering' : 'toast--exiting';\n    }\n\n    if (variant === ToastVariant.Loading) {\n        prefix = <Spinner size={Size.sm} variant={SpinnerVariant.None} />;\n    } else {\n        const iconName = getPrefixIcon(variant);\n\n        if (iconName) {\n            prefix = (\n                <div className=\"toast__icon-wrapper\">\n                    <Icon className=\"toast__icon\" name={iconName} size={IconSize.MD} />\n                </div>\n            );\n        }\n    }\n\n    const onActionPress = () => {\n        safeCall(onAction);\n\n        if (shouldCloseOnAction) {\n            toastHandler.dismiss(id);\n        }\n    };\n\n    return (\n        <div\n            aria-labelledby={textId}\n            aria-modal={false}\n            className={classNames(`toast toast--${variant}`, animationCssClass)}\n            role=\"alertdialog\"\n            // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n            tabIndex={0}>\n            <div aria-atomic={true} className=\"toast__body\" role=\"alert\">\n                {prefix}\n                <div className=\"toast__text\" id={textId}>\n                    <BodyText size={Size.md}>{children}</BodyText>\n                </div>\n                {actionLabel && (\n                    <Button\n                        className=\"toast__action-button\"\n                        inverted={true}\n                        onPress={onActionPress}\n                        style={ButtonStyle.Plain}\n                        variant={ButtonVariant.Neutral}>\n                        {actionLabel}\n                    </Button>\n                )}\n                <IconButton\n                    aria-label={translateCommon('close')}\n                    className=\"toast__close-button\"\n                    iconName={iconNames.CloseFilled}\n                    inverted={true}\n                    onPress={() => {\n                        toastHandler.dismiss(id);\n                    }}\n                    style={ButtonStyle.Plain}\n                    variant={ButtonVariant.Neutral}\n                />\n            </div>\n            {duration && <ToastProgressBar isPaused={!!pausedAt} timeout={duration} />}\n        </div>\n    );\n}\n"]}