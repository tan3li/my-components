{"version":3,"file":"useselectitemhighlight.js","sourceRoot":"","sources":["../../../../src/components/inputs/select/useselectitemhighlight.ts"],"names":[],"mappings":"AAAA,OAAO,EACH,WAAW,EAGX,SAAS,EAGZ,MAAM,WAAW,CAAC;AAEnB,OAAO,EAAC,iBAAiB,EAAC,MAAM,yCAAyC,CAAC;AAC1E,OAAO,EAAC,QAAQ,EAAC,MAAM,OAAO,CAAC;AAEzB,IAAA,KAOF,WAAW,CAAC,gBAAgB,EAN5B,qBAAqB,2BAAA,EACrB,mBAAmB,yBAAA,EACnB,kBAAkB,wBAAA,EAClB,oBAAoB,0BAAA,EACpB,eAAe,qBAAA,EACf,gBAAgB,sBACY,CAAC;AAC3B,IAAA,KAOF,SAAS,CAAC,gBAAgB,EAN1B,4BAA4B,kCAAA,EAC5B,0BAA0B,gCAAA,EAC1B,yBAAyB,+BAAA,EACzB,2BAA2B,iCAAA,EAC3B,uBAAuB,6BAAA,EACvB,sBAAsB,4BACI,CAAC;AAE/B,IAAM,6BAA6B,GAAmE;IAClG,qBAAqB;IACrB,mBAAmB;IACnB,kBAAkB;IAClB,oBAAoB;IACpB,eAAe;IACf,gBAAgB;IAChB,4BAA4B;IAC5B,0BAA0B;IAC1B,yBAAyB;IACzB,2BAA2B;IAC3B,uBAAuB;IACvB,sBAAsB;CACzB,CAAC;AAEF,MAAM,UAAU,sBAAsB;IAC5B,IAAA,KAA0C,QAAQ,CAAS,CAAC,CAAC,CAAC,EAA7D,gBAAgB,QAAA,EAAE,mBAAmB,QAAwB,CAAC;IAC/D,IAAA,KAAwC,QAAQ,CAAoB,iBAAiB,CAAC,KAAK,CAAC,EAA3F,eAAe,QAAA,EAAE,kBAAkB,QAAwD,CAAC;IAEnG,IAAM,wBAAwB,GAAG,UAC7B,OAA0F;QAEnF,IAAA,IAAI,GAA2C,OAAO,KAAlD,EAAoB,mBAAmB,GAAI,OAAO,iBAAX,CAAY;QAE9D,mBAAmB,CAAC,mBAAmB,CAAC,CAAC;QACzC,kBAAkB,CACd,mBAAmB,GAAG,CAAC,CAAC,IAAI,6BAA6B,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;YACtE,iBAAiB,CAAC,QAAQ;YAC9B,CAAC,CAAG,iBAAiB,CAAC,KAAK,CAC9B,CAAC;IACN,CAAC,CAAC;IAEF,OAAO;QACH,wBAAwB,0BAAA;QACxB,gBAAgB,kBAAA;QAChB,eAAe,iBAAA;QACf,kBAAkB,oBAAA;QAClB,mBAAmB,qBAAA;KACtB,CAAC;AACN,CAAC","sourcesContent":["import {\n    useCombobox,\n    UseComboboxHighlightedIndexChange,\n    UseComboboxStateChangeTypes,\n    useSelect,\n    UseSelectHighlightedIndexChange,\n    UseSelectStateChangeTypes\n} from 'downshift';\nimport {SelectItemBase} from './selectitem.js';\nimport {InteractionSource} from '../../../constants/interactionsource.js';\nimport {useState} from 'react';\n\nconst {\n    InputKeyDownArrowDown,\n    InputKeyDownArrowUp,\n    InputKeyDownPageUp,\n    InputKeyDownPageDown,\n    InputKeyDownEnd,\n    InputKeyDownHome\n} = useCombobox.stateChangeTypes;\nconst {\n    ToggleButtonKeyDownArrowDown,\n    ToggleButtonKeyDownArrowUp,\n    ToggleButtonKeyDownPageUp,\n    ToggleButtonKeyDownPageDown,\n    ToggleButtonKeyDownHome,\n    ToggleButtonKeyDownEnd\n} = useSelect.stateChangeTypes;\n\nconst keyboardNavigationChangeTypes: Array<UseComboboxStateChangeTypes | UseSelectStateChangeTypes> = [\n    InputKeyDownArrowDown,\n    InputKeyDownArrowUp,\n    InputKeyDownPageUp,\n    InputKeyDownPageDown,\n    InputKeyDownEnd,\n    InputKeyDownHome,\n    ToggleButtonKeyDownArrowDown,\n    ToggleButtonKeyDownArrowUp,\n    ToggleButtonKeyDownPageUp,\n    ToggleButtonKeyDownPageDown,\n    ToggleButtonKeyDownHome,\n    ToggleButtonKeyDownEnd\n];\n\nexport function useSelectItemHighlight<TItem extends SelectItemBase<TItem>>() {\n    const [highlightedIndex, setHighlightedIndex] = useState<number>(-1);\n    const [highlightSource, setHighlightSource] = useState<InteractionSource>(InteractionSource.Mouse);\n\n    const onHighlightedIndexChange = (\n        changes: UseComboboxHighlightedIndexChange<TItem> | UseSelectHighlightedIndexChange<TItem>\n    ) => {\n        const {type, highlightedIndex: newHighlightedIndex} = changes;\n\n        setHighlightedIndex(newHighlightedIndex);\n        setHighlightSource(\n            newHighlightedIndex > -1 && keyboardNavigationChangeTypes.includes(type) ?\n                InteractionSource.Keyboard\n            :   InteractionSource.Mouse\n        );\n    };\n\n    return {\n        onHighlightedIndexChange,\n        highlightedIndex,\n        highlightSource,\n        setHighlightSource,\n        setHighlightedIndex\n    };\n}\n"]}