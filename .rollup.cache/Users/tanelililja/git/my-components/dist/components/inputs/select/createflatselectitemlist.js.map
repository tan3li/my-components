{"version":3,"file":"createflatselectitemlist.js","sourceRoot":"","sources":["../../../../src/components/inputs/select/createflatselectitemlist.ts"],"names":[],"mappings":"AAEA,MAAM,UAAU,wBAAwB,CACpC,WAAoB,EACpB,cAAwB,EACxB,YAAkC;IAElC,IAAM,GAAG,GAAG,WAAW,CAAC,MAAM,CAAC;IAE/B,IAAI,GAAG,KAAK,CAAC,EAAE;QACX,OAAO,WAAW,CAAC;KACtB;IAED,IAAM,SAAS,GAAY,EAAE,CAAC;IAE9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;QAC1B,IAAM,UAAU,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;QAC3B,IAAA,QAAQ,GAAkB,UAAU,SAA5B,EAAE,KAAK,GAAW,UAAU,MAArB,EAAE,KAAK,GAAI,UAAU,MAAd,CAAe;QAE5C,IAAI,CAAC,KAAK,IAAI,cAAc,EAAE;YAC1B,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC9B;QAED,IAAI,KAAK,EAAE;YACP,SAAS,CAAC,IAAI,OAAd,SAAS,EAAS,wBAAwB,CAAC,KAAK,EAAE,cAAc,EAAE,YAAY,CAAC,EAAE;SACpF;aAAM,IAAI,QAAQ,IAAI,CAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,GAAG,CAAC,KAAK,CAAC,MAAK,KAAK,EAAE;YACvD,SAAS,CAAC,IAAI,OAAd,SAAS,EAAS,wBAAwB,CAAC,QAAQ,EAAE,cAAc,EAAE,YAAY,CAAC,EAAE;SACvF;KACJ;IAED,OAAO,SAAS,CAAC;AACrB,CAAC","sourcesContent":["import {SelectItemBase} from './selectitem.js';\n\nexport function createFlatSelectItemList<TItem extends SelectItemBase<TItem>>(\n    selectItems: TItem[],\n    includeHeaders?: boolean,\n    expandedKeys?: Set<TItem['value']>\n) {\n    const len = selectItems.length;\n\n    if (len === 0) {\n        return selectItems;\n    }\n\n    const flatItems: TItem[] = [];\n\n    for (let i = 0; i < len; i++) {\n        const selectItem = selectItems[i];\n        const {children, items, value} = selectItem;\n\n        if (!items || includeHeaders) {\n            flatItems.push(selectItem);\n        }\n\n        if (items) {\n            flatItems.push(...createFlatSelectItemList(items, includeHeaders, expandedKeys));\n        } else if (children && expandedKeys?.has(value) !== false) {\n            flatItems.push(...createFlatSelectItemList(children, includeHeaders, expandedKeys));\n        }\n    }\n\n    return flatItems;\n}\n"]}