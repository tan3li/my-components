{"version":3,"file":"treemultiselect.js","sourceRoot":"","sources":["../../../../src/components/inputs/treemultiselect/treemultiselect.tsx"],"names":[],"mappings":";;AAAA,OAAO,EAAC,WAAW,EAAmB,MAAM,+BAA+B,CAAC;AAC5E,OAAO,EAAC,aAAa,EAAC,MAAM,gCAAgC,CAAC;AAI7D,OAAO,EAAC,mBAAmB,EAAC,MAAM,kCAAkC,CAAC;AAkBrE,MAAM,UAAU,eAAe,CAA2D,EAMzD;IAL7B,IAAA,mBAAmB,yBAAA,EACnB,gBAAgB,sBAAA,EAChB,cAAc,oBAAA,EACK,sBAAsB,uBAAA,EACtC,KAAK,cAL8E,kFAMzF,CADW;IAEF,IAAA,KAA6E,aAAa,CAAC;QAC7F,mBAAmB,qBAAA;QACnB,YAAY,EAAE,KAAK,CAAC,YAAY;QAChC,KAAK,EAAE,KAAK,CAAC,KAAK;QAClB,gBAAgB,kBAAA;QAChB,aAAa,EAAE,KAAK,CAAC,aAAa;QAClC,SAAS,EAAE,KAAK,CAAC,SAAS;QAC1B,cAAc,gBAAA;KACjB,CAAC,EARK,KAAK,WAAA,EAAE,SAAS,eAAA,EAAE,aAAa,mBAAA,EAAE,YAAY,kBAAA,EAAE,WAAW,iBAAA,EAAE,YAAY,kBAQ7E,CAAC;IAEH,wDAAwD;IACxD,IAAM,iBAAiB,GAAG,UAAC,kBAAmD;QAC1E,IAAM,IAAI,GAAG,kBAAkB,CAAC,IAAI,CAAC;QAC9B,IAAA,KAAK,GAAI,IAAI,MAAR,CAAS;QACrB,IAAM,sBAAsB,yBACrB,kBAAkB,KACrB,UAAU,EAAE,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,EACnC,SAAS,EAAE,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,EACjC,YAAY,cAAA,GACf,CAAC;QAEF,IAAI,sBAAsB,EAAE;YACxB,OAAO,sBAAsB,CAAC,sBAAsB,CAAC,CAAC;SACzD;QAED,OAAO,KAAC,mBAAmB,eAAK,sBAAsB,EAAI,CAAC;IAC/D,CAAC,CAAC;IAEF,OAAO,CACH,KAAC,WAAW,eACJ,KAAK,IACT,YAAY,EAAE,YAAY,EAC1B,KAAK,EAAE,KAAK,EACZ,aAAa,EAAE,aAAa,EAC5B,SAAS,EAAE,SAAS,EACpB,iBAAiB,EAAE,iBAAiB,IACtC,CACL,CAAC;AACN,CAAC","sourcesContent":["import {MultiSelect, MultiSelectProps} from '../multiselect/multiselect.js';\nimport {useTreeSelect} from '../treeselect/usetreeselect.js';\nimport {AnyObject} from '../../../hooks/usechangeparamscallback.js';\nimport {SelectItemBase} from '../select/index.js';\nimport {SelectOptionContentProps} from '../select/selectoptioncontentprops.js';\nimport {SelectOptionContent} from '../select/selectoptioncontent.js';\n\nexport interface TreeMultiSelectProps<P extends AnyObject, TItem extends SelectItemBase<TItem>>\n    extends MultiSelectProps<P, TItem> {\n    /**\n     * Set of item keys to expand by default.\n     */\n    defaultExpandedKeys?: Set<TItem['value']>;\n    /**\n     * Handler that is called when item is expanded/collapsed.\n     */\n    onExpandedChange?: (expandedKeys: Set<TItem['value']>) => void;\n    /**\n     * Handler that is called when item is expanded, and it has empty children.\n     */\n    onLoadChildren?: (item: TItem) => Promise<void>;\n}\n\nexport function TreeMultiSelect<P extends AnyObject, TItem extends SelectItemBase<TItem>>({\n    defaultExpandedKeys,\n    onExpandedChange,\n    onLoadChildren,\n    renderItemContent: propsRenderItemContent,\n    ...props\n}: TreeMultiSelectProps<P, TItem>) {\n    const {items, onKeyDown, onInputChange, expandedKeys, loadingKeys, onToggleItem} = useTreeSelect({\n        defaultExpandedKeys,\n        expandedKeys: props.expandedKeys,\n        items: props.items,\n        onExpandedChange,\n        onInputChange: props.onInputChange,\n        onKeyDown: props.onKeyDown,\n        onLoadChildren\n    });\n\n    // eslint-disable-next-line sonarjs/function-return-type\n    const renderItemContent = (optionContentProps: SelectOptionContentProps<TItem>) => {\n        const item = optionContentProps.item;\n        const {value} = item;\n        const treeOptionContentProps: SelectOptionContentProps<TItem> = {\n            ...optionContentProps,\n            isExpanded: expandedKeys.has(value),\n            isLoading: loadingKeys.has(value),\n            onToggleItem\n        };\n\n        if (propsRenderItemContent) {\n            return propsRenderItemContent(treeOptionContentProps);\n        }\n\n        return <SelectOptionContent {...treeOptionContentProps} />;\n    };\n\n    return (\n        <MultiSelect\n            {...props}\n            expandedKeys={expandedKeys}\n            items={items}\n            onInputChange={onInputChange}\n            onKeyDown={onKeyDown}\n            renderItemContent={renderItemContent}\n        />\n    );\n}\n"]}