{"version":3,"file":"useistexttruncated.js","sourceRoot":"","sources":["../../src/hooks/useistexttruncated.ts"],"names":[],"mappings":"AAAA,OAAO,EAAY,WAAW,EAAE,QAAQ,EAAC,MAAM,OAAO,CAAC;AACvD,OAAO,EAAC,WAAW,EAAC,MAAM,uBAAuB,CAAC;AAClD,OAAO,EAAC,iBAAiB,EAAC,MAAM,mBAAmB,CAAC;AAEpD,MAAM,UAAU,kBAAkB,CAAC,EAQlC;QAPG,iBAAiB,uBAAA,EACjB,yBAA0C,EAA1C,iBAAiB,mBAAG,WAAW,CAAC,UAAU,KAAA,EAC1C,GAAG,SAAA;IAMG,IAAA,KAAgC,QAAQ,CAAC,KAAK,CAAC,EAA9C,WAAW,QAAA,EAAE,cAAc,QAAmB,CAAC;IAEtD,IAAM,QAAQ,GAAG,WAAW,CAAC;QACzB,IAAM,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC;QAE5B,IAAI,OAAO,EAAE;YACT,IAAM,cAAc,GAChB,iBAAiB,KAAK,WAAW,CAAC,QAAQ,CAAC,CAAC;gBACxC,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY;gBAC/C,CAAC,CAAG,OAAO,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;YAElD,cAAc,CAAC,cAAc,CAAC,CAAC;YAC/B,iBAAiB,aAAjB,iBAAiB,uBAAjB,iBAAiB,CAAG,cAAc,CAAC,CAAC;SACvC;IACL,CAAC,EAAE,CAAC,iBAAiB,EAAE,GAAG,EAAE,iBAAiB,CAAC,CAAC,CAAC;IAEhD,iBAAiB,CAAC,EAAC,GAAG,KAAA,EAAE,QAAQ,UAAA,EAAC,CAAC,CAAC;IAEnC,OAAO,WAAW,CAAC;AACvB,CAAC","sourcesContent":["import {RefObject, useCallback, useState} from 'react';\nimport {Orientation} from '../constants/index.js';\nimport {useResizeObserver} from '@react-aria/utils';\n\nexport function useIsTextTruncated({\n    onTruncatedChange,\n    overflowDirection = Orientation.horizontal,\n    ref\n}: {\n    onTruncatedChange?: (isTruncated: boolean) => void;\n    overflowDirection?: Orientation;\n    ref: RefObject<HTMLElement | null>;\n}) {\n    const [isTruncated, setIsTruncated] = useState(false);\n\n    const onResize = useCallback(() => {\n        const element = ref.current;\n\n        if (element) {\n            const newIsTruncated =\n                overflowDirection === Orientation.vertical ?\n                    element.offsetHeight < element.scrollHeight\n                :   element.offsetWidth < element.scrollWidth;\n\n            setIsTruncated(newIsTruncated);\n            onTruncatedChange?.(newIsTruncated);\n        }\n    }, [onTruncatedChange, ref, overflowDirection]);\n\n    useResizeObserver({ref, onResize});\n\n    return isTruncated;\n}\n"]}